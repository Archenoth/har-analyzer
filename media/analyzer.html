<div class="request-items container">
    
</div>

<div class="item-loader"></div>

<div class="request-inspector container">
    <div class="inspector-label">Inspector</div>
    <div class="inspector-title" type="POST" endpoint="/example/endpoint" time="902.234514" status="200">
        <div class="title" data="endpoint">/example/endpoint</div>
        <div class="method">POST</div>
        <div class="fullURL" data="fullURL">https://example.com/example/endpoint</div>
        <div class="tab-group">
            <div class="tab">Example Tab</div>
            <div class="tab selected">Example Tab</div>
            <div class="tab">Example Tab</div>
            <div class="tab">Example Tab</div>
        </div>
    </div>

    <div class="page" name="General">
        <div class="section">
            <div class="section-title">Basic Info</div>
            <div class="data-row" data="fullURL" keyName="Request URL">https://example.com/example/endpoint</div>
            <div class="data-row" data="referer" keyName="Referrer">https://google.com</div>
            <div class="data-row" data="obj.serverIPAddress" keyName="Remote Address">127.0.0.1</div>
            <br />
            <div class="data-row" data="obj.startedDateTime" keyName="Timestamp">May 25th 2022, 23:34:14.312 GMT-4</div>
            <div class="data-row" data="obj.time" keyName="Duration">2m 34s 103ms</div>
            <br />
            <div class="data-row" data="obj.response.status" keyName="Status"></div>
            <div class="data-row" data="obj.response.statusText" keyName="Status Message"></div>
            <div class="data-row" data="obj.request.method" keyName="Method"></div>
        </div>
    </div>

    <div class="page" name="Request">
        <div class="section" require-data="obj.request.queryString">
            <div class="section-title">Parameters</div>
            <div data-table="obj.request.queryString"></div>
        </div>
        <div class="section" require-data="obj.request.postData.text">
            <div class="section-title">Payload</div>
            <div class="code-block" data="obj.request.postData.text"></div>
        </div>
        <div class="section">
            <div class="section-title">Headers</div>
            <div data-table="obj.request.headers"></div>
        </div>
        <div class="section" require-data="obj.request.cookies">
            <div class="section-title">Cookies</div>
            <div data-table="obj.request.cookies"></div>
        </div>
    </div>

    <div class="page" name="Response">
        <div class="section" require-data="content">
            <div class="section-title">Content</div>
            <div class="data-row"  keyName="Mime Type" data="mimeType"></div>
            <div class="data-row"  style="padding-bottom:10px;" keyName="Content Size" require-data="obj.response.content.size" data="obj.response.content.size"></div>
            <div class="code-block" data="content" require-value="mimeType=text/*|application/*"></div>
            <div class="subscript"  require-value="mimeType=text/*|application/*">(double click to expand and shrink)</div>
            <img class="img-preview" data-to="src=content" require-value="mimeType=image/*" />
        </div>
        <div class="section" require-data="obj.response.headers">
            <div class="section-title">Headers</div>
            <div data-table="obj.response.headers"></div>
        </div>
        <div class="section" require-data="obj.response.cookies">
            <div class="section-title">Cookies</div>
            <div data-table="obj.response.cookies"></div>
        </div>
    </div>

    <div class="page" name="Timing">
        <div class="section">
            <div class="section-title">Timings</div>
            <div class="data-row" data="obj.timings._blocked_queueing" keyName="Queuing"></div>
            <div class="data-row" data="obj.timings.blocked" keyName="Blocked"></div>
            <div class="data-row" data="obj.timings.connect" keyName="Connect"></div>
            <div class="data-row" data="obj.timings.dns" keyName="DNS"></div>
            <div class="data-row" data="obj.timings.receive" keyName="Recieve"></div>
            <div class="data-row" data="obj.timings.send" keyName="Send"></div>
            <div class="data-row" data="obj.timings.ssl" keyName="SSL"></div>
            <div class="data-row" data="obj.timings.wait" keyName="Wait"></div>
        </div>
    </div>

    <div class="page" name="Initiation" disabled>
        <div class="section">
            <div class="section-title">Initiation</div>
        </div>
    </div>

    <div class="templates">
        <div class="request-item" type="POST" endpoint="/example/endpoint" time="902.234514" status="200">
            <div class="method">POST</div>
            <div class="endpoint">/example/endpoint</div>
            <div class="time detail-item">902ms</div>
            <div class="status detail-item"></div>
        </div>
    </div>
</div>
<script>

    Array.prototype.sample = function(){
        return this[Math.floor(Math.random()*this.length)];
    }

    // var methods = ["POST", "GET", "PUT", "DELETE"];
    // var responseCodes = ["200", "404", "403", "500"];
    // for (var i = 0; i < 50; i++) {
    //     var newItem = $(".request-item").first().clone();
    //     var method = methods.sample();
    //     var responseCode = responseCodes.sample();
    //     var time = Math.round(Math.random()*1000);
    //     newItem.attr("type", method);
    //     newItem.attr("time", time);
    //     newItem.attr("status", responseCode);
    //     newItem.find(".method").text(method);
    //     newItem.find(".time").text(time+"ms");
    //     newItem.find(".status").text(responseCode);
    //     newItem.appendTo(".request-items");
    // }

    
    setupGUI();
</script>